<h1 class="error" ng-hide="dbready || dbgrace">Henter data<br>vÃ¦r tÃ¥lmodig</h1>
<h2>Send en besked</h2>
<ng-form name="messageform">
  <select class="forumselect" name="forum" id="forum" ng-model="message.forum" ng-options="forum.name for forum in fora" required> </select><br>
  <input class="forumselect" type="text" placeholder="emne" id="messagesubject" ng-model="message.subject" required>
  <br>
<textarea class="forumselect" placeholder="besked" id="message_body" type="text" ng-model="message.body" required></textarea>
<button class="green forumselect" ng-disabled="!messageform.$valid" ng-click="messagesend()">Send besked</button>
</ng-form>


<h2>Mine Beskeder</h2>

<div>

  <div class="messagelist">
    <table class="baselayout" width="100%">
      <thead>
        <tr>
          <th>Emne</th>
          <th>Fra</th>
          <th>Forum</th>
          <th>Tid</th>
          <th>Besked</th>
        </tr> 
      </thead>
      <tbody>
        <tr ng-repeat-start="message in messages"  ng-class="{selected: currentmessage == message}" ng-click="setCurrentMessage(message)" class="message" ng-class-odd="'oddstat'">
          <td>{{message.subject}}</td>
          <td>{{message.source}}</td>
          <td>{{message.forum.name}}</td>
          <td>{{message.created |date:"d. MMM yyyy"}}</td>
          <td>{{message.body |limitTo :20}}...</td>
          <td><i ng-click="messagedelete(message)" confirm="Vil du slette beskeden?" class="fa fa-trash"></i></td>
        </tr>
        <tr ng-repeat-end ng-if="currentmessage == message">
          <td class="popempty"></td><td class="popdown" colspan="4"> <pre  ng-bind=message.body></pre> </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
  
